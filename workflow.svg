<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 900" width="1200" height="900">
  <!-- Background -->
  <rect width="1200" height="900" fill="#f8f9fa" rx="10" ry="10"/>
  
  <!-- Title -->
  <text x="600" y="50" font-family="Arial, sans-serif" font-size="32" text-anchor="middle" font-weight="bold" fill="#2c3e50">Bidirectional VC/VP ⟷ PDF Conversion Architecture</text>
  
  <!-- VC to PDF Flow -->
  <rect x="80" y="100" width="1040" height="300" rx="15" ry="15" fill="#e8f4fc" stroke="#4a90e2" stroke-width="2"/>
  <text x="600" y="130" font-family="Arial, sans-serif" font-size="24" text-anchor="middle" font-weight="bold" fill="#4a90e2">VC/VP to PDF Conversion</text>
  
  <!-- Flow elements - VC to PDF -->
  <rect x="100" y="160" width="120" height="70" rx="10" ry="10" fill="#5cabf0" stroke="#2c3e50" stroke-width="2"/>
  <text x="160" y="195" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" fill="white">VC/VP</text>
  <text x="160" y="215" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="white">Input</text>
  
  <rect x="240" y="160" width="120" height="70" rx="10" ry="10" fill="white" stroke="#2c3e50" stroke-width="2"/>
  <text x="300" y="195" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" fill="#2c3e50">Context</text>
  <text x="300" y="215" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" fill="#2c3e50">Recognition</text>
  
  <rect x="380" y="160" width="120" height="70" rx="10" ry="10" fill="white" stroke="#2c3e50" stroke-width="2"/>
  <text x="440" y="195" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" fill="#2c3e50">Template</text>
  <text x="440" y="215" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" fill="#2c3e50">Selection</text>
  
  <rect x="520" y="160" width="120" height="70" rx="10" ry="10" fill="white" stroke="#2c3e50" stroke-width="2"/>
  <text x="580" y="195" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" fill="#2c3e50">Data</text>
  <text x="580" y="215" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" fill="#2c3e50">Mapping</text>
  
  <rect x="660" y="160" width="120" height="70" rx="10" ry="10" fill="white" stroke="#2c3e50" stroke-width="2"/>
  <text x="720" y="195" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" fill="#2c3e50">QR Code</text>
  <text x="720" y="215" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" fill="#2c3e50">Generation</text>
  
  <rect x="800" y="160" width="140" height="70" rx="10" ry="10" fill="white" stroke="#2c3e50" stroke-width="2"/>
  <text x="870" y="190" font-family="Arial, sans-serif" font-size="15" text-anchor="middle" fill="#2c3e50">Machine Data</text>
  <text x="870" y="210" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#2c3e50">Embedding</text>
  <text x="870" y="225" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#2c3e50">(XMP, Attachments)</text>
  
  <rect x="960" y="160" width="140" height="70" rx="10" ry="10" fill="#5ce1e6" stroke="#2c3e50" stroke-width="2"/>
  <text x="1030" y="200" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" fill="#2c3e50">PDF Document</text>
 
  <rect x="380" y="280" width="180" height="70" rx="10" ry="10" fill="#f0dea5" stroke="#2c3e50" stroke-width="2"/>
  <text x="470" y="310" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" fill="#2c3e50">PDF Template</text>
  <text x="470" y="330" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#2c3e50">(Fetch from External Link)</text>

  
  <!-- Arrows for VC to PDF -->
  <path d="M220 195 L240 195" stroke="#2c3e50" stroke-width="3" fill="none"/>
  <polygon points="240,195 230,190 230,200" fill="#2c3e50"/>
  
  <path d="M360 195 L380 195" stroke="#2c3e50" stroke-width="3" fill="none"/>
  <polygon points="380,195 370,190 370,200" fill="#2c3e50"/>
  
  <path d="M500 195 L520 195" stroke="#2c3e50" stroke-width="3" fill="none"/>
  <polygon points="520,195 510,190 510,200" fill="#2c3e50"/>
  
  <path d="M640 195 L660 195" stroke="#2c3e50" stroke-width="3" fill="none"/>
  <polygon points="660,195 650,190 650,200" fill="#2c3e50"/>
  
  <path d="M780 195 L800 195" stroke="#2c3e50" stroke-width="3" fill="none"/>
  <polygon points="800,195 790,190 790,200" fill="#2c3e50"/>
  
  <path d="M940 195 L960 195" stroke="#2c3e50" stroke-width="3" fill="none"/>
  <polygon points="960,195 950,190 950,200" fill="#2c3e50"/>
  
  <path d="M440 230 L440 280" stroke="#2c3e50" stroke-width="3" fill="none"/>
  <polygon points="440,280 435,270 445,270" fill="#2c3e50"/>
  
  <path d="M560 315 L580 315 L580 230" stroke="#2c3e50" stroke-width="3" fill="none"/>
  <polygon points="580,230 575,240 585,240" fill="#2c3e50"/>
  
  <!-- PDF to VC Flow -->
  <rect x="80" y="450" width="1040" height="300" rx="15" ry="15" fill="#f4e8fc" stroke="#9b59b6" stroke-width="2"/>
  <text x="600" y="480" font-family="Arial, sans-serif" font-size="24" text-anchor="middle" font-weight="bold" fill="#9b59b6">PDF to VC/VP Conversion</text>
  
  <!-- Flow elements - PDF to VC -->
  <rect x="100" y="510" width="140" height="70" rx="10" ry="10" fill="#5ce1e6" stroke="#2c3e50" stroke-width="2"/>
  <text x="170" y="552" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" fill="#2c3e50">PDF Document</text>
  
  <rect x="370" y="510" width="200" height="70" rx="10" ry="10" fill="white" stroke="#2c3e50" stroke-width="2"/>
  <text x="470" y="552" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" fill="#2c3e50">Credential Extraction</text>
  
  <rect x="700" y="510" width="140" height="70" rx="10" ry="10" fill="white" stroke="#2c3e50" stroke-width="2"/>
  <text x="770" y="552" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" fill="#2c3e50">Proof Verification</text>
  
  <rect x="960" y="510" width="140" height="70" rx="10" ry="10" fill="#a697f2" stroke="#2c3e50" stroke-width="2"/>
  <text x="1030" y="552" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" fill="white">Verified VC/VP</text>

  <rect x="320" y="630" width="320" height="70" rx="10" ry="10" fill="#f0dea5" stroke="#2c3e50" stroke-width="2"/>
  <text x="480" y="655" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" fill="#2c3e50">Extraction Methods (Priority Order)</text>
  <text x="480" y="680" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#2c3e50">XMP Metadata → File Attachment → QR Code</text>
  
  <rect x="700" y="630" width="140" height="70" rx="10" ry="10" fill="#f0dea5" stroke="#2c3e50" stroke-width="2"/>
  <text x="770" y="665" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" fill="#2c3e50">Status Check</text>
  <text x="770" y="680" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#2c3e50">(Optional)</text>
  
  <!-- Arrows for PDF to VC -->
  <path d="M240 545 L370 545" stroke="#2c3e50" stroke-width="3" fill="none"/>
  <polygon points="370,545 360,540 360,550" fill="#2c3e50"/>
  
  <path d="M570 545 L700 545" stroke="#2c3e50" stroke-width="3" fill="none"/>
  <polygon points="700,545 690,540 690,550" fill="#2c3e50"/>
  
  <path d="M840 545 L960 545" stroke="#2c3e50" stroke-width="3" fill="none"/>
  <polygon points="960,545 950,540 950,550" fill="#2c3e50"/>
  
  <!-- Connect extraction methods to credential extraction -->
  <path d="M470 580 L470 630" stroke="#2c3e50" stroke-width="3" fill="none"/>
  <polygon points="470,630 465,620 475,620" fill="#2c3e50"/>
  
  <!-- Connect Status Check as optional feature -->
  <path d="M770 580 L770 630" stroke="#2c3e50" stroke-width="2" stroke-dasharray="5,5" fill="none"/>
  <polygon points="770,630 765,620 775,620" fill="#2c3e50"/>
  
  <!-- VP-Specific section -->
  <rect x="250" y="780" width="700" height="90" rx="15" ry="15" fill="#e8fcf0" stroke="#2ecc71" stroke-width="2"/>
  <text x="600" y="815" font-family="Arial, sans-serif" font-size="20" text-anchor="middle" font-weight="bold" fill="#2ecc71">VP-Specific: Multi-page with Unified Verification</text>
  <text x="600" y="840" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" fill="#2c3e50">Summary Page + Individual VC Pages + VP-Level QR Code</text>
  
  <!-- Connector lines to VP section -->
  <path d="M1100 195 L1150 195 L1150 820 L950 820" stroke="#2ecc71" stroke-width="2" stroke-dasharray="5,5" fill="none"/>
  <path d="M1100 545 L1150 545 L1150 820" stroke="#2ecc71" stroke-width="2" stroke-dasharray="5,5" fill="none"/>

  <!-- Legend -->
  <rect x="90" y="780" width="20" height="20" fill="#5cabf0"/>
  <text x="115" y="795" font-family="Arial, sans-serif" font-size="14" fill="#2c3e50">Input/Output</text>
  
  <rect x="90" y="810" width="20" height="20" fill="white" stroke="#2c3e50" stroke-width="2"/>
  <text x="115" y="825" font-family="Arial, sans-serif" font-size="14" fill="#2c3e50">Process</text>
  
  <rect x="90" y="840" width="20" height="20" fill="#f0dea5"/>
  <text x="115" y="855" font-family="Arial, sans-serif" font-size="14" fill="#2c3e50">Repository</text>
</svg>